<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="luafft : Lua package that includes functions for Fast Fourier Transformations." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>luafft</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/vection/luafft">View on GitHub</a>

          <h1 id="project_title">luafft</h1>
          <h2 id="project_tagline">Lua package that includes functions for Fast Fourier Transformations.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/vection/luafft/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/vection/luafft/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h1>

<p><strong>luafft</strong> is an easy to use Fast Fourier Transformation package in pure Lua. It is based on the FFT implementation of KissFFT by Mark Borgerding which is both easy to use and extremly fast. It also uses the complex number module from the Numeric Lua package.</p>

<p><em>Note: This is a very early version of the code. Although the algorithm has been thoroughly tested by Mark Borgerding, there may very well be bugs that have not been found yet. Please feel free to comment on any source code related problems.</em></p>

<h1>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h1>

<p>LuaFFT is part of the LuaRocks repository where it can be easily installed by using:</p>

<pre><code>luarocks install luafft
</code></pre>

<p>or simply use Git:</p>

<pre><code>git clone git://github.com/vection/LuaFFT.git
</code></pre>

<h1>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h1>

<p>LuaFFT is very easy to use. The following lines of code show, how to carry out a simple Fast Fourier Transformation. Keep in mind, that values have to be given as complex values, otherwise luafft returns an error.</p>

<div class="highlight highlight-lua"><pre><span class="n">luafft</span> <span class="o">=</span> <span class="nb">require</span> <span class="s2">"</span><span class="s">luafft"</span>

<span class="kd">local</span> <span class="n">list1</span> <span class="o">=</span> <span class="p">{}</span>
<span class="kd">local</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">2048</span>

<span class="c1">--Populates a list with random real numbers in complex format</span>
<span class="k">function</span> <span class="nf">populate</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">size</span> <span class="k">do</span>
      <span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">complex</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="nb">math.random</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1">--displays a comparison of two lists with complex numbers</span>
<span class="k">function</span> <span class="nf">compare</span><span class="p">(</span><span class="n">one</span><span class="p">,</span> <span class="n">two</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="o">#</span><span class="n">one</span> <span class="k">do</span> <span class="nb">print</span><span class="p">(</span><span class="nb">string.format</span><span class="p">(</span><span class="s2">"</span><span class="s">1: %s</span><span class="se">\t</span><span class="s">2: %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span>
 <span class="nb">tostring</span><span class="p">(</span><span class="n">one</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="nb">tostring</span><span class="p">(</span><span class="n">two</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span> <span class="k">end</span>
<span class="k">end</span>

<span class="c1">--devide a list with a certain constant factor</span>
<span class="k">function</span> <span class="nf">devide</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">factor</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">v</span> <span class="k">in</span> <span class="nb">ipairs</span><span class="p">(</span><span class="n">list</span><span class="p">)</span> <span class="k">do</span> <span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">factor</span> <span class="k">end</span>
<span class="k">end</span>

<span class="c1">--create a list with random real values</span>
<span class="n">populate</span><span class="p">(</span><span class="n">list1</span><span class="p">)</span>

<span class="c1">--carry out fast fourier transformation and store result in "ret"</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">fft</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>

<span class="c1">--now carry out inverse fast fourier transformation and store result in "ret2"</span>
<span class="n">ret2</span> <span class="o">=</span> <span class="n">fft</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">--After retransformation, we need to devide by the data size</span>
<span class="n">devide</span><span class="p">(</span><span class="n">ret2</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>

<span class="c1">--displays a comparison of the input and the output, the real part should be equal</span>
<span class="c1">--the imaginary part is non zero (but fairly close) due to several calculations</span>
<span class="c1">--that have been carried out in the FFT</span>
<span class="n">compare</span><span class="p">(</span><span class="n">list2</span><span class="p">,</span><span class="n">ret</span><span class="p">)</span>
</pre></div>

<h1>
<a name="licence-and-version" class="anchor" href="#licence-and-version"><span class="octicon octicon-link"></span></a>Licence and Version</h1>

<p><strong>luafft</strong> is licensed under the same license as Lua -- the MIT license -- and so can be freely used for academic and commercial purposes.
This is version 1.1-1.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">luafft maintained by <a href="https://github.com/vection">vection</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
